<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Home Banking MindHub</title>
</head>
<body >
    <div id="app">
        <header>
            <h1 class="text-center">Home Banking MindHub</h1>
        </header>
       
        <div class="d-flex justify-content-around">
            <div class="col-5">
                <h2>Client Manager</h2>
                <form id="form">
                    <div class="mb-3 ">
                      <label for="firstName" class="form-label">First Name</label>
                      <input type="text" v-model="firstName" class="form-control" id="firstName" >
                    </div>
                    <div class="mb-3 ">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" v-model="lastName" class="form-control" id="lastName">
                      </div>
                      <div class="mb-3 ">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" v-model="email" class="form-control" id="email">
                      </div>
                      <p id="text-error"></p>
                    <button @click.prevent="addClient()" class="btn btn-primary col-12 mt-2">Add Client</button>
                  </form>
                  <h2>Client List</h2>
                  <table class="mt-2 col-12">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Email</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody v-for="(client, index) of clients" v-if="clients">
                        <tr class="tr">
                            <td>
                                <div v-if="!aux">{{client.firstName}}</div>
                                <input v-if="aux" type="text" v-model="firstName"  :value="client.firstName">
                            </td>
                            <td>
                                <div v-if="!aux">{{client.lastName}}</div>
                                <input v-if="aux" type="text" :value="client.lastName">
                            </td>
                            <td>
                                <div v-if="!aux">{{client.email}}</div>
                                <input v-if="aux" type="text" :value="client.email">
                            </td>
                            <td><button  v-if="!aux" @click="clickUpdate(client._links.self.href, index)" class="btn btn-primary col-12">Update</button>
                                <button  v-if="aux" @click="updateClient(client._links.self.href)" class="btn btn-primary col-12">Update</button></td>
                            <td><button @click="deleteClient(client._links.self.href)" class="btn btn-primary col-12">Delete</button></td>
                        </tr>
    
                    </tbody>
                  </table>
            </div>
            <div class="col-4">
                <h2>Client REST Response</h2>
                <pre >
                    {{json}}
                </pre>
            </div>
            
        </div>
    </div>
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="../assets/js/manager.js"></script>
</body>
</html>